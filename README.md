# Бот регистрации

Предлагает альтернативный способ регистрации участников 2 тура Конкурса им. В. И. Вернадского.

# Бот работает с двумя файлами JSON:

### “Исходный” файл - выгрузка информации из базы данных сайта Конкурса. Отсюда бот берет новую информацию.

### “Рабочий” файл - бот сам его формирует, добавляя из исходного файла те заявки, которые начали проходить электронную регистрацию. В рабочий файл по сравнению с исходным бот дописывает дополнительные технические элементы словаря (например, были ли внесены в словарь изменения или участвует ли работа во 2 туре). В него вносятся все изменения, которые пользователи передают боту.


# Способности бота:

### Проверка корректности номера заявки
Программа принимает номер заявки (пятизначное число, записанное в виде строки), проверяет её на соответствие формату. Если формат неверен, выводится ответ «Некорректный номер заявки». 

### Работа с файлом
Дан исходный файл и рабочий файл (возможно, пустой). Проверяем, есть ли в рабочем файле значение с ключом, совпадающим с принятым номером заявки и, если такого значения нет, копируем полностью из исходного файла пару ключ-значение в переменную, для определенных полей добавляем пару: ключ “Edited” со значением “True”. Словарь из переменной помещаем в рабочий файл. 

### Работа с заявкой
Программа принимает номер заявки и находит в рабочем файле словарь, вложенный в значение, с ключом, совпадающим с принятым номером заявки. Этот словарь записывается в переменную. Вложенная функция – меню работы с заявкой. После окончания работы с заявкой эта пара перезаписывается в рабочий файл.

### Меню работы с заявкой

### Формирование списка работ
Функция под декоратором, запускаемым сообщением “works”. Работает со словарем, который лежит в словаре-заявке под ключом “works”. Из этого словаря выводит в виде кнопок в чате список. Каждая кнопка имеет вид: номер работы – авторы. Ниже – сообщение со списком участвующих работ (формируется из тех работ, у которых под ключом “coming” стоит True).

### Информация о работе
Программа принимает номер работы, находит эту работу в словаре “works”, выводит для этой работы номер, название, секцию, ФИО авторов и руководителей (number, title, section[title], authors[name], teacher[name]). В чате под информацией о работе есть 3 кнопки: «Подтвердить», «Исправить» и «Работа не участвует во 2 туре».

### 3 кнопки в чате под информацией
Кнопка «Подтвердить» меняет значение под ключом “coming” на True.

Кнопка «Работа не участвует во 2 туре» меняет значение под ключом “coming” на False.

Кнопки «Исправить» делает следующее: бот отправляет сообщение «Работа (номер работы)\nВыберите информацию, которую хотите исправить», выводит кнопки в чате (название работы, ФИО авторов (каждый автор – отдельная кнопка), ФИО руководителей (одна кнопка)). Ниже есть кнопка «Завершить редактирование», которая возвращает пользователя в меню инфомации о работе.

### Исправление инфомации о работе
Программа принимает ключ, соответствующий названию поля в информации о работе. Выводит значение, соответствующее этому ключу (в боте оно подставлено в строку ввода). Принимает строку и перезаписывает в значение, соответствующее исходно полученному ключу. В работа[corrected] при этом записывает False.
